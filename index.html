<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Jazz Trumpet Player 小倉直也</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll@14/dist/smooth-scroll.polyfills.min.js"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
    <link href="https://fonts.googleapis.com/css?family=Arimo:400,700|Noto+Sans+JP:400,900" rel="stylesheet">
    <meta name="viewport" content="height=device-height,
        initial-scale=1.0,
        minimum-scale=1.0,
        shrink-to-fit=no" >
    <style>
        /* image size: 1920 x 1280 */
        *{
            margin: 0;
            padding: 0;
        }
        body{
            color: white;
        }

        a {
            color: unset;
            text-decoration: none;
        }
        #background{
            background-image: url("./background.jpg"), url("./background-padding.png");
        }
        .page{
            background-repeat: no-repeat, repeat;
            background-size: contain, auto;
            background-position:center, top left;
            height:100vh;
            min-height:100vh;
            width:100vw;

        }
        #global_menu_sp_toggle{
            display:none;
        }
        .global_menu_sp{
            display:none;
        }
        #global_menu_outer{
            background-color: #2e4a5399;
            height: 6vh;
            font-size: 16px;
            display: flex;
            justify-content: center;
        }
        #global_menu{
            display: flex;
            justify-content: flex-end;
            font-weight: 800;
            width: calc(100vh * calc(1920 / 1280));
        }
        #global_menu li{
            min-width: 100px;
            padding: 20px;
            color: #e7f3dfb3;
            cursor: pointer;
            text-align: center;
            line-height: 130%;
            display: flex;
            justify-content: center;
            align-items:center;
            font-family: "Arimo", sans-serif;
            transition-property: background-color, opacity;
            transition-duration: 300ms;
            transition-timing-function: ease-in;
        }
        #global_menu li:hover{
            background-color: gray;
            opacity: 0.8;
        }
        #contact h1{
            margin-bottom: 30px;
        }
        #live_info h1{
            margin-bottom:30px;
        }
        #title{
            position: absolute;
            top: 40%;
            left: calc(calc(calc(100vw -  calc(100vh * calc(1920 / 1280))) / 2) + 60px);
        }
        #title h1{
            font-size: 60px;
            letter-spacing: 0.0005px;
            font-family: "Noto Sans JP";
            font-weight: 800;
        }
        #title h2{
            font-size: 32px;
            letter-spacing: 1.9px;
            text-align: center;
            font-family: "Noto Sans JP";
            font-weight: 800;
        }
        #next_live{
            display: block;
            position:absolute;
            bottom:8%;
            right: calc(calc(calc(100vw -  calc(100vh * calc(1920 / 1280))) / 2) + 60px);
            background-image:url("./next_live.png");
            background-repeat: no-repeat;
            background-size: 100px;
            background-position:center;
            background-color: transparent;
            height:130px;
            width:100px;
            cursor: pointer;
        }
        #second_page{
            background-image: url("./background2.jpg");
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #live_article{
            padding:30px;
            background-color: black;
            opacity: 0.6;
            color: white;
            height: 75%;
            width: 75%;
            font-size:14px;
            line-height:1.5;
            background-image: url("./next_live2.png");
            background-position: right 60px top 60px;
            background-repeat: no-repeat;
        }

        #news{
            padding-top: 30px;
            padding-left: 55px;
            padding-bottom: 20px;
        }

        .whats_new{
            padding-bottom: 25px;
        }

        .date {
            display:inline-block;
        }
        .article {
            display:inline-block;
            padding-left: 30px;
        }

        .news_item {
            padding-bottom: 20px;
            cursor: pointer;
            animation-name: flipIn;
            animation-duration: 1.2s;
            animation-timing-function: cubic-bezier(0.55, 0.06, 0.68, 0.19);
        }
        @keyframes flipIn {
            0% {
                opacity: 0;
                transform: rotateX(-90deg);
            }
            100% {
                opacity: 1;
                transform: rotateX(0deg);
            }
        }

        @media screen and (max-width:1024px){
            #background{
                background-image: url("./background-sp.jpg"), url("./background-padding.png");
            }
            .global_menu_sp{
                display: block;
                height: 0;
                position: absolute;
                right: 0;
                top: 50px;
                z-index: 1000;
                overflow: hidden;
                transition-property: all;
                transition-duration: 600ms;
                transition-timing-function: ease-in;
            }
            .global_menu_sp li {
                background: white;
                color: black;
                height: 35px;
                text-align: center;
                line-height: 35px;
                cursor: pointer;
                width: 145px;
            }
            .global_menu_sp li:hover {
                background-color: deepskyblue;

            }
            .global_menu_sp_show{
                height: 210px;
            }
            #global_menu_sp_toggle{
                display:inline-block;
                position:absolute;
                top: 15px;
                right: 20px;
                font-size: 25px;
            }
            #global_menu_sp_show {
                display: block;
            }

            #global_menu_outer{
                display: none;
            }
            #title{
                top: 8%;
                left: 10%;
            }
            #title h2{
                font-size: 2.7vh;
            }
            #title h1{
                font-size: 5.3vh;
            }
            #news {
                padding: 244px 0 20px;
            }
            .date {
                display: block;
            }
            #next_live {
                bottom: 4%;
                right: 1%;
            }
            #second_page {
                background-size: cover;
            }
            #live_article{
                background-position: right 8px top 15px;
                background-size: 100px;
                overflow: scroll;
            }
            #live_article pre {
                white-space:  pre-wrap;
            }
        }

    </style>
</head>
<body>
<script src="dist/blog.js"></script>
<script>
    // smooth scroll https://github.com/cferdinandi/smooth-scroll
    var app = Elm.Blog.init({node: document.getElementById("news"), flags: ""});
    app.ports.scrollToNextLive.subscribe(() => {
        requestAnimationFrame(() => {
            var scroll = new SmoothScroll();
            scroll.animateScroll(
                document.querySelector("#second_page"),
                {speed: 1000}
            );
        });
    });
    app.ports.openUrlInNewWindow.subscribe((url)=>{
        window.open(url, "_blank");
    });
    app.ports.sendXml.subscribe((xml)=>{
        const parser = new DOMParser();
        const doc = parser.parseFromString(xml, "application/xml");
        const entries = doc.querySelectorAll("entry");
        app.ports.gotParsedXml.send(Array.from(entries).map((entry)=>{
            const title = entry.querySelector("title").textContent;
            const url = entry.querySelector("link").getAttribute("href");
            const date = entry.querySelector("published").textContent;
            const obj = {title: title, url:url, date:date};
            return obj;
        }));
    });
</script>
</body>
</html>